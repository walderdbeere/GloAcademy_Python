import random

def is_digit(n):
    return True if n.isdigit() else False

def is_valid(user_input, user_level):
    if user_input.isdigit():
        user_number = int(user_input)

        if user_number >= 1 and user_number <= user_level:
            return True
        else:
            return False

    else:
        return False


def play_game():    
    print('Добро пожаловать в игру "Угадай число"')

    while True:
        print('Установите максимальную границу загадываемого числа')
        user_level = input()       

        if not is_digit(user_level):
            continue
        
        break

    user_level = int(user_level)
    secret_number = random.randint(1, user_level)
    attempts_counter = 0

    while True:
        print(f'Введите число от 1 до {user_level}')
        user_input = input()

        if not is_valid(user_input, user_level):
            continue

        user_number = int(user_input)
        attempts_counter +=1

        if secret_number > user_number:        
            print('Загаданное число больше')        
        elif secret_number < user_number:        
            print('Загаданное число меньше')        
        else:
            print(f'Поздравляю! Вам потребовалось {attempts_counter} попыток')
            break

    play_again()


def play_again():
    while True:
        print('Хотите сыграть еще? Y(Д)/N(Н)')
        user_answer = input()

        if user_answer == 'Y' or user_answer == 'y' or user_answer == 'Д' or user_answer == 'д':
            play_game()
        elif user_answer == 'N' or user_answer == 'n' or user_answer == 'Н' or user_answer == 'н':
            print('Спасибо за игру. Ждем вас еще!')
            break
        else:
            print('Не понял ваш ответ...')
            continue


play_game()
