import random

def is_valid(user_input):
    if user_input.isdigit():
        user_number = int(user_input)

        if user_number >= 1 and user_number <= 100:
            return True
        else:
            return False

    else:
        return False        

def user_guess():
    secret_number = random.randint(1, 100)
    attempts_counter = 0
    print('Добро пожаловать в игру "Угадай число"')

    while True:
        print('Введите число от 1 до 100')
        user_input = input()

        if not is_valid(user_input):
            continue

        user_number = int(user_input)
        attempts_counter +=1

        if secret_number > user_number:        
            print('Загаданное число больше')        
        elif secret_number < user_number:        
            print('Загаданное число меньше')        
        else:
            print(f'Поздравляю! Вам потребовалось {attempts_counter} попыток')
            break

    play_again()


def play_again():
    while True:
        print('Хотите сыграть еще? Y(Д)/N(Н)')
        user_answer = input()

        if user_answer == 'Y' or user_answer == 'y' or user_answer == 'Д' or user_answer == 'д':
            user_guess()
        elif user_answer == 'N' or user_answer == 'n' or user_answer == 'Н' or user_answer == 'н':
            print('Спасибо за игру. Ждем вас еще!')
            break
        else:
            print('Не понял ваш ответ...')
            continue


user_guess()
